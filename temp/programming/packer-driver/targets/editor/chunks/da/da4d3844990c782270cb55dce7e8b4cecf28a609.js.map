{"version":3,"sources":["file:///Users/yamiwang/cowboy/assets/scripts/ui/cowboy/subUI/cb_ChipCtr.ts"],"names":["_decorator","BaseUI","LocalPlayerData","ToggleBtn","CowboyData","ccclass","property","cb_ChipCtr","InitParam","BindUI","RegDataNotify","GetInstance","AddListener","Data_Money","bind","LateInit","UnregDataNotify","RemoveListenerByTarget","CustmoerDestory","InitWithData","Data_SelectedChip","SetChipData","_dataNotify","_param","_custmoerData","_index","currentChild","node","children","getComponent","SetDataNotify","SetTitle","ConvertNumber","_amount","toString","tempAmount","tempStr","_val","_bef","i","length","SetForbidden","mCustmoerData"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,M,iBAAAA,M;;AAEAC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;4BAGjBO,U,WADZF,OAAO,CAAC,YAAD,C,gBAAR,MACaE,UADb;AAAA;AAAA,4BAEA;AACIC,QAAAA,SAAS,GAAG,CAEX;;AACDC,QAAAA,MAAM,GAAG,CAER;;AACDC,QAAAA,aAAa,GACb;AACI;AAAA;AAAA,kDAAgBC,WAAhB,GAA8BC,WAA9B,CAA0C,YAA1C,EAAyD,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAzD,EAAsF,IAAtF;AACH;;AACDC,QAAAA,QAAQ,GAAG,CAEV;;AACDC,QAAAA,eAAe,GACf;AACI;AAAA;AAAA,kDAAgBL,WAAhB,GAA8BM,sBAA9B,CAAqD,IAArD;AACH;;AACDC,QAAAA,eAAe,GACf,CAEC;;AAEMC,QAAAA,YAAY,GACnB;AACI;AAAA;AAAA,wCAAWR,WAAX,GAAyBS,iBAAzB,GAA6C,CAA7C;AACA,eAAKC,WAAL,CAAiB;AAAA;AAAA,wCAAWV,WAAX,EAAjB,EAA0C,mBAA1C,EAAgE,CAAhE,EAAoE,CAApE;AACA,eAAKU,WAAL,CAAiB;AAAA;AAAA,wCAAWV,WAAX,EAAjB,EAA0C,mBAA1C,EAAgE,EAAhE,EAAqE,CAArE;AACA,eAAKU,WAAL,CAAiB;AAAA;AAAA,wCAAWV,WAAX,EAAjB,EAA0C,mBAA1C,EAAgE,GAAhE,EAAsE,CAAtE;AACA,eAAKU,WAAL,CAAiB;AAAA;AAAA,wCAAWV,WAAX,EAAjB,EAA0C,mBAA1C,EAAgE,IAAhE,EAAuE,CAAvE;AACA,eAAKU,WAAL,CAAiB;AAAA;AAAA,wCAAWV,WAAX,EAAjB,EAA0C,mBAA1C,EAAgE,IAAhE,EAAuE,CAAvE;AACH;;AAEDU,QAAAA,WAAW,CAACC,WAAD,EAA4BC,MAA5B,EAA8CC,aAA9C,EAAuEC,MAAvE,EACX;AACI,cAAIC,YAAY,GAAG,KAAKC,IAAL,CAAUC,QAAV,CAAmBH,MAAnB,EAA2BI,YAA3B;AAAA;AAAA,qCAAnB;;AACAH,UAAAA,YAAY,CAACI,aAAb,CAA2BR,WAA3B,EAAuCC,MAAvC,EAA8CC,aAA9C;AACAE,UAAAA,YAAY,CAACK,QAAb,CAAsB,KAAKC,aAAL,CAAmBR,aAAnB,CAAtB;AACH;;AAEDQ,QAAAA,aAAa,CAACC,OAAD,EACb;AACI,cAAGA,OAAO,GAAG,IAAb,EACA;AACI,mBAAOA,OAAO,CAACC,QAAR,EAAP;AACH;;AAED,cAAIC,UAAU,GAAGF,OAAO,GAAC,IAAzB;AACA,cAAIG,OAAO,GAAGD,UAAU,CAACD,QAAX,KAAwB,GAAtC;AACA,iBAAOE,OAAP;AACH;;AAGDvB,QAAAA,UAAU,CAACwB,IAAD,EAAQC,IAAR,EACV;AACI,eAAI,IAAIC,CAAC,GAAG,CAAZ,EAAgBA,CAAC,GAAG,KAAKZ,IAAL,CAAUC,QAAV,CAAmBY,MAAvC,EAAgDD,CAAC,EAAjD,EACA;AACI,gBAAIb,YAAY,GAAG,KAAKC,IAAL,CAAUC,QAAV,CAAmBW,CAAnB,EAAsBV,YAAtB;AAAA;AAAA,uCAAnB;AACAH,YAAAA,YAAY,CAACe,YAAb,CAA0Bf,YAAY,CAACgB,aAAb,GAA6BL,IAAvD;AACH;AACJ;;AA5DL,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport { BaseUI } from '../../../base/BaseUI';\nimport { DataNotify } from '../../../base/DataNotify';\nimport { LocalPlayerData } from '../../../base/LocalPlayerData';\nimport { ToggleBtn } from '../../common/ToggleBtn';\nimport { CowboyData } from '../CowboyData';\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('cb_ChipCtr')\nexport class cb_ChipCtr extends BaseUI \n{\n    InitParam() {\n\n    }\n    BindUI() {\n\n    }\n    RegDataNotify() \n    {\n        LocalPlayerData.GetInstance().AddListener(\"Data_Money\" , this.Data_Money.bind(this) , this );\n    }\n    LateInit() {\n\n    }\n    UnregDataNotify() \n    {\n        LocalPlayerData.GetInstance().RemoveListenerByTarget(this);\n    }\n    CustmoerDestory() \n    {\n\n    }\n\n    public InitWithData()\n    {\n        CowboyData.GetInstance().Data_SelectedChip = 1;\n        this.SetChipData(CowboyData.GetInstance(),\"Data_SelectedChip\" , 1 , 0);\n        this.SetChipData(CowboyData.GetInstance(),\"Data_SelectedChip\" , 10 , 1);\n        this.SetChipData(CowboyData.GetInstance(),\"Data_SelectedChip\" , 100 , 2);\n        this.SetChipData(CowboyData.GetInstance(),\"Data_SelectedChip\" , 1000 , 3);\n        this.SetChipData(CowboyData.GetInstance(),\"Data_SelectedChip\" , 5000 , 4);\n    }\n\n    SetChipData(_dataNotify : DataNotify , _param : string , _custmoerData : number , _index : number)\n    {\n        let currentChild = this.node.children[_index].getComponent(ToggleBtn);\n        currentChild.SetDataNotify(_dataNotify,_param,_custmoerData);\n        currentChild.SetTitle(this.ConvertNumber(_custmoerData));\n    }\n\n    ConvertNumber(_amount : number) : string\n    {\n        if(_amount < 1000)\n        {\n            return _amount.toString();\n        }\n\n        let tempAmount = _amount/1000;\n        let tempStr = tempAmount.toString() + \"k\";\n        return tempStr;\n    }\n\n\n    Data_Money(_val , _bef)\n    {\n        for(let i = 0 ; i < this.node.children.length ; i++)\n        {\n            let currentChild = this.node.children[i].getComponent(ToggleBtn);\n            currentChild.SetForbidden(currentChild.mCustmoerData > _val);\n        }\n    }\n\n}\n\n"]}