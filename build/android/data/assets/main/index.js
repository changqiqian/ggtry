System.register("chunks:///_virtual/BaseUI.ts",["cc"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy,s=t.Component}],execute:function(){e._RF.push({},"d67f3W+FjJDnLNbq3YCz4G9","BaseUI",void 0);t("BaseUI",class extends s{onLoad(){this.InitParam(),this.BindUI(),this.RegDataNotify()}start(){this.LateInit()}onDestroy(){this.UnregDataNotify(),this.CustmoerDestory()}InitParam(){}BindUI(){}RegDataNotify(){}LateInit(){}UnregDataNotify(){}CustmoerDestory(){}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/DataNotify.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"c781e6gPpFIqatahGPgKhnx","DataNotify",void 0);t("DataNotify",class{constructor(){this.__listeners={},this.__properties={},this.__defaultValues={},this.__created=!1,this.RemoveListenerByProp=function(t,e){if(e&&t)for(var s=0;s<this.__listeners[t].configs.length;s++)this.__listeners[t].configs[s].target==e&&this.__listeners[t].configs.splice(s,1);else console.log("缺少必要参数")}}_getValue(t){return this.__listeners.hasOwnProperty(t)?this.__listeners[t].after:this.__properties[t]}_update(t,e){if(this.__properties[t]=e,!this.__listeners.hasOwnProperty(t))return;var s=this.__listeners[t];let i=s.before;s.after=s.before=e,s.configs.forEach((t=>{null!=e&&t.callback.call(t.target,e,i)}))}AddListener(t,e,s){this.__listeners.hasOwnProperty(t)?this.__listeners[t].configs.push({callback:e,target:s}):this.__listeners[t]={configs:[{callback:e,target:s}],before:this[t],after:this[t]},null!=this[t]&&null!=this[t]&&e&&s&&e.call(s,this[t],null)}RemoveListenerByTarget(t){if(t)for(var e in this.__listeners)for(var s=0;this.__listeners[e].configs.length>0&&s<this.__listeners[e].configs.length;)this.__listeners[e].configs[s].target==t?(this.__listeners[e].configs.splice(s,1),s=0):s++;else console.log("缺少必要参数target")}ClearListeners(){this.__listeners=null,this.__listeners={}}CreateNotify(){if(!this.__created){var t=Object.keys(this),e={};t.forEach((t=>{t.toString().includes("Data_")&&(this.__properties[t]=this[t],this.__defaultValues[t]=this[t],e[t]={get(){return this._getValue(t)},set(e){this._update(t,e)}})})),Object.defineProperties(this,e),this.__created=!0}}reset(){this.resetDataToDefault(),this.ClearListeners()}resetDataToDefault(){Object.keys(this).forEach((t=>{if(t.toString().includes("Data_")){var e=this.__defaultValues[t];this[t]=e}}))}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,s,a,i,n,r,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){a=t.cclegacy,i=t.Asset,n=t._decorator,r=t.Component,l=t.game}],execute:function(){var o,h,c,_,u;a._RF.push({},"29e619zwspJuKc2Zpv+6nu2","HotUpdate",void 0);const g=window.jsb,{ccclass:p,property:E}=n;t("HotUpdate",(o=p("HotUpdate"),h=E(i),o((u=e((_=class extends r{constructor(...t){super(...t),s(this,"manifestUrl",u,this),this._updating=!1,this._canRetry=!1,this._storagePath="",this._am=null,this._checkListener=null,this._updateListener=null,this._failCount=0,this.versionCompareHandle=null}checkCb(t){switch(console.log("Code: "+t.getEventCode()),t.getEventCode()){case g.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:break;case g.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case g.EventAssetsManager.ERROR_PARSE_MANIFEST:case g.EventAssetsManager.ALREADY_UP_TO_DATE:case g.EventAssetsManager.NEW_VERSION_FOUND:break;default:return}this._am.setEventCallback(null),this._checkListener=null,this._updating=!1}updateCb(t){var e=!1,s=!1;switch(t.getEventCode()){case g.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:s=!0;break;case g.EventAssetsManager.UPDATE_PROGRESSION:t.getMessage();break;case g.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case g.EventAssetsManager.ERROR_PARSE_MANIFEST:case g.EventAssetsManager.ALREADY_UP_TO_DATE:s=!0;break;case g.EventAssetsManager.UPDATE_FINISHED:e=!0;break;case g.EventAssetsManager.UPDATE_FAILED:this._updating=!1,this._canRetry=!0;break;case g.EventAssetsManager.ERROR_UPDATING:case g.EventAssetsManager.ERROR_DECOMPRESS:}if(s&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1),e){this._am.setEventCallback(null),this._updateListener=null;var a=g.fileUtils.getSearchPaths(),i=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(i)),Array.prototype.unshift.apply(a,i),localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(a)),g.fileUtils.setSearchPaths(a),setTimeout((()=>{l.restart()}),1e3)}}retry(){!this._updating&&this._canRetry&&(this._canRetry=!1,this._am.downloadFailedAssets())}checkUpdate(){if(!this._updating){if(this._am.getState()===g.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;this._am.loadLocalManifest(t)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()&&(this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0)}}hotUpdate(){if(this._am&&!this._updating){if(this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===g.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;this._am.loadLocalManifest(t)}this._failCount=0,this._am.update(),this._updating=!0}}onLoad(){g&&(this._storagePath=(g.fileUtils?g.fileUtils.getWritablePath():"/")+"SY-remote-asset",console.log("Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(t,e){console.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var s=t.split("."),a=e.split("."),i=0;i<s.length;++i){var n=parseInt(s[i]),r=parseInt(a[i]||"0");if(n!==r)return n-r}return a.length>s.length?-1:0},this._am=new g.AssetsManager("",this._storagePath,this.versionCompareHandle),this._am.setVerifyCallback((function(t,e){e.compressed,e.md5,e.path,e.size;return!0})))}onDestroy(){this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)}}).prototype,"manifestUrl",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=_))||c));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./protobufcowboy.mjs_cjs=&original=.js","./HotUpdate.ts","./Start.ts","./StartData.ts","./BaseUI.ts","./DataNotify.ts","./ResMgr.ts","./UIMgr.ts","./Network.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Network.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5dc746GUP9M8qHDU+k5rwVH","Network",void 0);class i{constructor(e,t){this.msgID=void 0,this.callback=void 0,this.msgID=e,this.callback=t}}class s{constructor(e){this.target=void 0,this.callbackList=void 0,this.target=e,this.callbackList=new Array}Add(e,t){if(this.callbackList.findIndex((t=>t.msgID===e))>=0)return void console.log("当前target已经注册过该网络消息了   _msgID==="+e+"。不能重复注册");let s=new i(e,t);this.callbackList.push(s)}Remove(e){let t=this.callbackList.findIndex((t=>t.msgID===e));t<0?console.log("当前target还没有注册过   _msgID==="+e+"。不能移除"):this.callbackList.splice(t,1)}}class n{static GetInstance(){return null==n.instance&&(n.instance=new n),n.instance}constructor(){this.mWebSocket=null,this.mConnectTimer=void 0,this.mPingRevTimer=void 0,this.mPingSendTimer=void 0,this.mPingSpace=5e3,this.mMsgListenner=void 0,this.mMsgListenner=new Array}CreateWS(){null==this.mWebSocket?(this.mWebSocket=new WebSocket(n.WS_Addr),this.mWebSocket.onopen=this.OnOpen.bind(this),this.mWebSocket.onmessage=this.OnMessage.bind(this),this.mWebSocket.onerror=this.OnError.bind(this),this.mWebSocket.onclose=this.OnClose.bind(this),this.mConnectTimer=setTimeout(this.OnConnectTimeOut.bind(this),3e3)):console.log("上一根ws还没有清理，不能重新连接")}ClearWS(){clearTimeout(this.mConnectTimer),this.StopPing(),null!=this.mWebSocket&&(this.mWebSocket.close(),this.mWebSocket.onopen=null,this.mWebSocket.onmessage=null,this.mWebSocket.onerror=null,this.mWebSocket.onclose=null),this.mWebSocket=null}OnOpen(e){clearTimeout(this.mConnectTimer)}OnMessage(e){}OnError(e){}OnClose(e){}AddMsgListenner(e,t,i){let n,o=this.mMsgListenner.findIndex((e=>e.target===i));o>=0?n=this.mMsgListenner[o]:(n=new s(i),this.mMsgListenner.push(n)),n.Add(e,t)}RemoveListenner(e){let t=this.mMsgListenner.findIndex((t=>t.target===e));t<0?console.log("当前_target还没有添加过网络监听，无法移除"):this.mMsgListenner.splice(t,1)}OnConnectTimeOut(){this.mWebSocket.readyState===WebSocket.OPEN||this.ClearWS()}SendPing(){clearTimeout(this.mPingSendTimer),this.mPingRevTimer=setTimeout(this.OnPingTimeOut.bind(this),this.mPingSpace)}RecvPing(){clearTimeout(this.mPingRevTimer),this.mPingSendTimer=setTimeout(this.SendPing.bind(this),this.mPingSpace)}StopPing(){clearTimeout(this.mPingRevTimer),clearTimeout(this.mPingSendTimer)}OnPingTimeOut(){this.ClearWS()}}e("Network",n),n.instance=null,n.WS_Addr="",t._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["cc"],(function(e){"use strict";var l,n;return{setters:[function(e){l=e.cclegacy,n=e.assetManager}],execute:function(){l._RF.push({},"fdc43owwnFLUpSvMom8VBQf","ResMgr",void 0);e("ResMgr",class{static PreloadBundle(e,l){n.loadBundle(e,((n,t)=>{null!=n?console.log("PreloadBundle error   name===:"+e):l&&l(t)}))}static PreloadAssetsInBundle(e,l,n){for(let t=0;t<l.length;t++)e.loadDir(l[t],(()=>{n&&n()}))}static GetAssetInBundle(e,l,n,t){var s=this.GetBundle(e);if(null==s)return console.log("GetAssetInBundle  失败  name===:"+e),null;s.load(l,n,((n,s)=>{null!=n?console.log("GetAssetInBundle error   _bundleName:_assetName==="+e+":"+l):t&&t(s)}))}static ReleaseBundle(e){var l=this.GetBundle(e);if(null==l)return console.log("ReleaseBundle  失败  name===:"+e),null;l.releaseAll(),n.removeBundle(l)}static GetBundle(e){var l=n.getBundle(e);return null==l?(console.log("GetBundle  当前bundle还没有加载  name===:"+e),null):l}}),l._RF.pop()}}}));

System.register("chunks:///_virtual/Start.ts",["cc"],(function(t){"use strict";var r,c,e;return{setters:[function(t){r=t.cclegacy,c=t.Component,e=t._decorator}],execute:function(){var s;r._RF.push({},"dddd42YZT9N8ItX01ZCopex","Start",void 0);const{ccclass:a,property:n}=e;t("Start",a("start")(s=class extends c{start(){}})||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/StartData.ts",["cc","./DataNotify.ts"],(function(t){"use strict";var s,n;return{setters:[function(t){s=t.cclegacy},function(t){n=t.DataNotify}],execute:function(){s._RF.push({},"8fed4UqDcxEip31KVAOqgA5","StartData",void 0);class e extends n{constructor(...t){super(...t),this.Data_Test=null}static GetInstance(){return null==e.__ins&&(e.__ins=new e,e.__ins.CreateNotify()),e.__ins}Test(){}}t("StartData",e),e.__ins=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["cc","./ResMgr.ts"],(function(e){"use strict";var t,n,i;return{setters:[function(e){t=e.cclegacy,n=e.instantiate},function(e){i=e.ResMgr}],execute:function(){e({LayerType:void 0,SceneType:void 0}),t._RF.push({},"4d942pJ+w5MPof/yocmPJnI","UIMgr",void 0);class s{constructor(e,t){this.key=void 0,this.value=void 0,this.key=e,this.value=t}}class o{constructor(e,t,n,i){this.type=void 0,this.bundleNames=void 0,this.resFolders=void 0,this.prefabPath=void 0,this.type=e,this.bundleNames=n,this.resFolders=i,this.prefabPath=t}}let l,r;!function(e){e[e.Layer=0]="Layer",e[e.Window=1]="Window"}(l||(l=e("LayerType",{}))),function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Login=2]="Login",e[e.Hall=3]="Hall"}(r||(r=e("SceneType",{})));class a{constructor(){this.mLayerRoot=null,this.mWindowRoot=null,this.mLayerList=void 0,this.mWindowList=void 0,this.mCurrentScene=void 0,this.mSceneConfig=void 0}static GetInstance(){return null==a.instance&&(a.instance=new a),a.instance}Init(){this.mLayerRoot=cc.find("Canvas/LayerRoot"),this.mWindowRoot=cc.find("Canvas/WindowRoot"),this.mLayerList=new Array,this.mWindowList=new Array,this.mCurrentScene=r.None,this.mSceneConfig=new Array;let e=["anm","font","music","prefab","texture"],t=new o(r.Loading,"prefab/loading",["loading"],e),n=new o(r.Login,"prefab/login",["login"],e),i=new o(r.Hall,"prefab/hall",["hall"],e);this.mSceneConfig.push(t),this.mSceneConfig.push(n),this.mSceneConfig.push(i)}ShowLayer(e,t,n){let i=e+"/"+t,s=this.FindLayer(i,n);if(null!=s){let e=this.GetRootNode(n).childrenCount;return s.setSiblingIndex(e),s.active=!0,s}this.CreatePrefab(e,t,(e=>(this.GetRootNode(n).addChild(e),this.RecordLayer(i,e,n),e)))}CreatePrefab(e,t,s){i.GetAssetInBundle(e,t,cc.Prefab,(e=>{if(s){let t=n(e);s(t)}}))}ChangeScene(e){let t=this.GetSceneConfig(e);if(this.mCurrentScene!=r.None)for(let e=0;e<t.bundleNames.length;e++)i.ReleaseBundle(t.bundleNames[e]);this.PreloadSceneRes(t,(()=>{console.log("PreloadSceneRes loadFinish === "),this.ShowLayer(t.bundleNames[0],t.prefabPath,l.Layer)}))}PreloadSceneRes(e,t){let n=e.bundleNames.length*e.resFolders.length;console.log("total loadCount === "+n);for(let s=0;s<e.bundleNames.length;s++)i.PreloadBundle(e.bundleNames[s],(s=>{i.PreloadAssetsInBundle(s,e.resFolders,(()=>{n--,console.log("rest loadCount === "+n),0==n&&t&&t()}))}))}GetSceneConfig(e){let t=this.mSceneConfig.findIndex((t=>t.type===e));return t<0?(console.log("GetSceneConfig 没有找到该场景 _sceneType ==="+e),null):this.mSceneConfig[t]}DeleteAllLayer(e){let t=this.GetList(e);for(let e=0;e<t.length;e++)t[e].value.destroy();t.splice(0,t.length-1)}GetList(e){let t;switch(e){case l.Layer:t=this.mLayerList;break;case l.Window:t=this.mWindowList}return t}FindLayer(e,t){let n=this.GetList(t),i=n.findIndex((t=>t.key===e));return i>=0?n[i].value:null}GetRootNode(e){let t;switch(e){case l.Layer:t=this.mLayerRoot;break;case l.Window:t=this.mWindowRoot}return t}RecordLayer(e,t,n){let i=new s(e,t);this.GetList(n).push(i)}}e("UIMgr",a),a.instance=null,t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});